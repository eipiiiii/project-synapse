# Run and deploy your AI Studio app

This contains everything you need to run your app locally.

## Run Locally

**Prerequisites:**  Node.js


1. Install dependencies:
   `npm install`
2. Set the `GEMINI_API_KEY` in [.env.local](.env.local) to your Gemini API key
3. Run the app:
   `npm run dev`


## System Overview

Project Synapse is an autonomous market analyst AI application built with React and Vite, leveraging the Google Gemini API for advanced market intelligence. The application processes user-defined topics through a multi-module pipeline to generate contextual narratives and identify actionable investment opportunities.

### Architecture

The application follows a modular architecture, with distinct components and services handling specific functionalities:

1.  **Frontend (React/Vite)**:
    *   **`App.tsx`**: The main application component, managing global state (loading, narrative, opportunity, errors) and orchestrating the flow between different modules. It imports and renders all major UI components.
    *   **`components/Header.tsx`**: Displays the application title and a brief description.
    *   **`components/SentinelPanel.tsx`**: **Module 1: The Sentinels**. This component serves as the user input interface. Users define a market topic for analysis, which is then passed to the backend for processing. It includes a text input field and an "Initiate Analysis" button, with loading indicators.
    *   **`components/NexusDisplay.tsx`**: **Module 2: The Nexus**. Displays the synthesized narrative generated by the AI. It shows a loading skeleton while the narrative is being generated and then presents the contextual story.
    *   **`components/OracleView.tsx`**: **Module 3: The Oracle**. Presents the identified strategic investment opportunity. This includes a stock ticker, a recommendation (BUY, HOLD, SELL, MONITOR), various opportunity scores (Potential, Catalyst Freshness, Market Attention, Risk Level), a concise reasoning, and a list of key risks. It also features a loading skeleton.
    *   **`components/ErrorDisplay.tsx`**: A utility component for displaying any error messages that occur during the analysis process.
    *   **`components/icons/*.tsx`**: SVG icon components used across the application for visual branding and module identification.

2.  **Backend/AI Integration (`services/geminiService.ts`)**:
    *   This service acts as the bridge to the Google Gemini API.
    *   **`generateNarrative(topic: string)`**: Communicates with the Gemini 2.5 Flash model, using a `nexusSystemInstruction` to guide the AI in synthesizing a coherent market narrative based on the provided topic.
    *   **`generateOpportunity(narrative: string)`**: Takes the generated narrative and sends it to the Gemini 2.5 Flash model with an `oracleSystemInstruction` and a predefined `oracleSchema`. The AI then analyzes the narrative to identify a specific investment opportunity, providing a stock ticker, recommendation, scores, reasoning, and risks in a structured JSON format.
    *   API Key Management: The `GEMINI_API_KEY` is loaded from `.env.local` via Vite's `loadEnv` and made available to the client-side application.

3.  **Data Structures (`types.ts`)**:
    *   Defines TypeScript interfaces (`OracleScore`, `OracleOutput`) to ensure type safety and consistency for the data exchanged between the Gemini API and the frontend components, particularly for the Oracle module's output.

### Workflow

The application's workflow is a sequential process:

1.  **Input**: User provides a market `topic` via the `SentinelPanel`.
2.  **Narrative Generation (Nexus)**: The `topic` is sent to the Gemini API (via `generateNarrative`) to produce a comprehensive market `narrative`.
3.  **Opportunity Identification (Oracle)**: The generated `narrative` is then fed back to the Gemini API (via `generateOpportunity`) to identify a specific `investment opportunity` and its associated details.
4.  **Display**: Both the `narrative` and the `opportunity` are displayed to the user through the `NexusDisplay` and `OracleView` components, respectively.
5.  **Error Handling**: Any issues during the API calls are caught and displayed via `ErrorDisplay`.

This structured approach allows for clear separation of concerns and leverages the power of large language models for complex market analysis.
